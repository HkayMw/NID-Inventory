#:kivy 2.3.0
# view/admin/report/report_view.kv

<ReportScreen>:
    id: report_view
    name: 'report_view'
    orientation: "vertical"
    # space_x: self.size[0]/3
    # canvas.before:
    #     # Gray background
    #     Color:
    #         rgba: app.theme_cls.bg_light
    #         # rgba: (0.4, 0.4, 0.4, 1)
    #     Rectangle:
    #         size: self.size
    #         pos: self.pos
        
    MDLabel:
        text: "Repors"

    # Window Section
    MDBoxLayout:
        # adaptive_height: True
        md_bg_color: app.theme_cls.bg_light
        id: window_section
        name: "window_section"
        orientation: "vertical"
        padding: 0, 10
        # size_hint_y: .75
        height: self.minimum_height
        spacing: 20

        # Screen Title
        MDBoxLayout:
            orientation: 'horizontal'
            padding: '10dp'
            spacing: '10dp'
            size_hint_y: .1
            size_hint_x: .3
            # width: '300dp'
            pos_hint: {"center_x": .5, "center_y": .5}
            
            # Title
            MDLabel:
                id: screen_title
                text: 'Report'
                halign: 'center'
                font_style: 'H4'
                size_hint_y: None
                # size_hint_x: None
                pos_hint: {"center_x": .5, "center_y": .5}
                # width: '300dp'

        # horizontal line
        MDSeparator:
            height: "1dp"  # Thickness of the line
            color: "#B0BEC5"  # Color of the line

        # Main Section
        MDBoxLayout:
            orientation: "horizontal"
            id: main_section
            name: "main_section"
            size_hint_y: .9

            #Controls Section
            MDBoxLayout:
                orientation: "vertical"
                id: controls_section
                name: "controls_section"
                size_hint_x: .35
                spacing: 30

                Label:
                    size_hint_y: .05

                #Add Contact controls
                MDBoxLayout:
                    orientation: "vertical"
                    size_hint_y: .35
                    Label:
                        id: add_contact_label
                        text: "Add Contact"
                        size_hint_y: .2
                        color: (0.14, 0.31, 0.31, 1)
                        halign: "left"
                        font_size: min(self.width * 1, self.height * 1)
                        text_size: self.size
                        size_hint_x: .9
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}


                    # ID Number field container
                    MDBoxLayout:
                        orientation: "vertical"
                        id: id_number_container
                        size_hint_y: .8
                        size_hint_x: .9
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        padding: [5]
                        spacing: 10
                        canvas.before:
                            Color:
                                rgba: (0.7, 0.7, 0.7, 1)  # Dark teal color
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10, 10, 10, 10]  # Rounded corners
                
                        # ID Number field
                        MDBoxLayout:
                            pos_hint: {'top': 1}
                            size_hint_y: .5
                            size_hint_x: 1
                            pos_hint: {"center_x": 0.5, "center_y": 0.5}
                            canvas.before:
                                Color:
                                    rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [10, 10, 10, 10]  # Rounded corners

                            TextInput:
                                id: add_id_number
                                hint_text: "ID Number / QR Code"
                                foreground_color: (0.7, 0.7, 0.7, 1)  # Light gray text
                                background_color: (0, 0, 0, 0)  # Transparent to show canvas color
                                halign: 'center'
                                focus: True
                                multiline: False
                                font_size: min(self.width * .4, self.height * .4)
                                padding: [10, (self.height - self.line_height) / 2]
                                
                        # Phone Number and submit button row
                        MDBoxLayout:
                            orientation: "horizontal"
                            size_hint_y: .5
                            spacing: 10

                            # Phone Number field
                            MDBoxLayout:
                                pos_hint: {'top': 1}
                                size_hint_x: .7
                                # size_hint_y: 
                                # height: 50
                                canvas.before:
                                    Color:
                                        rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                                    RoundedRectangle:
                                        size: self.size
                                        pos: self.pos
                                        radius: [10, 10, 10, 10]  # Rounded corners

                                TextInput:
                                    id: phone_number
                                    hint_text: "Phone number"
                                    foreground_color: (0.7, 0.7, 0.7, 1)  # Light gray text
                                    background_color: (0, 0, 0, 0)  # Transparent to show canvas color
                                    # size_hint_y: None
                                    # height: 50
                                    halign: 'center'
                                    focus: True
                                    multiline: False
                                    font_size: min(self.width * .4, self.height * .4)  
                                    padding: [10, (self.height - self.line_height) / 2]

                            #Add/Update submit button
                            MDBoxLayout:
                                # size_hint_y: .1
                                size_hint_x: .3
                                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                                # height: 50
                                padding: [5]
                                canvas.before:
                                    Color:
                                        rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                                    RoundedRectangle:
                                        size: self.size
                                        pos: self.pos
                                        radius: [10, 10, 10, 10]  # Rounded corners

                                Button:
                                    text: "Submit"
                                    background_normal: ''
                                    background_color: (0.14, 0.31, 0.31, 1)  # Dark teal color
                                    size_hint_x: 1
                                    font_size: min(self.width * .4, self.height * .4)  
                                    padding: [10, (self.height - self.line_height) / 2]
                                    # height: 50
                                    # radius: [10, 10, 10, 10]  # Rounded corners
                                    color: 1, 1, 1, 1  # White text
                                    # on_press: root.parent.current = 'search_id_view'

                
                
                

                #Search Contact controls
                MDBoxLayout:
                    orientation: "vertical"
                    size_hint_y: .35
                    Label:
                        id: search_contact_label
                        text: "Search Contact"
                        size_hint_y: .2
                        # padding: [5]
                        font_size: min(self.width * 1, self.height * 1)
                        halign: "left"
                        text_size: self.size
                        color: (0.14, 0.31, 0.31, 1)
                        size_hint_x: .9
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}


                    # Search Phone Number controls
                    MDBoxLayout:
                        orientation: "vertical"
                        id: qr_code_container
                        size_hint_y: .8
                        size_hint_x: .9
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        # height: 50
                        padding: [5]
                        spacing: 10
                        canvas.before:
                            Color:
                                rgba: (0.7, 0.7, 0.7, 1)  # Dark teal color
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10, 10, 10, 10]  # Rounded corners
                
                        # Search by scanning ID
                        MDBoxLayout:
                            pos_hint: {'top': 1}
                            size_hint_y: .5
                            size_hint_x: 1
                            pos_hint: {"center_x": 0.5, "center_y": 0.5}
                            canvas.before:
                                Color:
                                    rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [10, 10, 10, 10]  # Rounded corners

                            TextInput:
                                id: qr_code
                                hint_text: "Scan QR Code"
                                foreground_color: (0.7, 0.7, 0.7, 1)  # Light gray text
                                background_color: (0, 0, 0, 0)  # Transparent to show canvas color
                                halign: 'center'
                                focus: True
                                multiline: False
                                font_size: min(self.width * .4, self.height * .4)
                                padding: [10, (self.height - self.line_height) / 2]
                                
                        # ID Number and submit button row
                        MDBoxLayout:
                            orientation: "horizontal"
                            size_hint_y: .5
                            spacing: 10

                            # Lastname field
                            MDBoxLayout:
                                pos_hint: {'top': 1}
                                size_hint_x: .7
                                # size_hint_y: 
                                # height: 50
                                canvas.before:
                                    Color:
                                        rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                                    RoundedRectangle:
                                        size: self.size
                                        pos: self.pos
                                        radius: [10, 10, 10, 10]  # Rounded corners

                                TextInput:
                                    id: search_id_number
                                    hint_text: "ID Number"
                                    foreground_color: (0.7, 0.7, 0.7, 1)  # Light gray text
                                    background_color: (0, 0, 0, 0)  # Transparent to show canvas color
                                    # size_hint_y: None
                                    # height: 50
                                    halign: 'center'
                                    focus: True
                                    multiline: False
                                    font_size: min(self.width * .4, self.height * .4)  
                                    padding: [10, (self.height - self.line_height) / 2]

                            #Search with name submit button
                            MDBoxLayout:
                                # size_hint_y: .1
                                size_hint_x: .3
                                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                                # height: 50
                                padding: [5]
                                canvas.before:
                                    Color:
                                        rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                                    RoundedRectangle:
                                        size: self.size
                                        pos: self.pos
                                        radius: [10, 10, 10, 10]  # Rounded corners

                                Button:
                                    text: "Submit"
                                    background_normal: ''
                                    background_color: (0.14, 0.31, 0.31, 1)  # Dark teal color
                                    size_hint_x: 1
                                    font_size: min(self.width * .4, self.height * .4)  
                                    padding: [10, (self.height - self.line_height) / 2]
                                    # height: 50
                                    # radius: [10, 10, 10, 10]  # Rounded corners
                                    color: 1, 1, 1, 1  # White text
                                    # on_press: root.parent.current = 'search_id_view'

                
                
                

                Label:
                    size_hint_y:.25
            #Search results Section
            MDBoxLayout:
                orientation: 'vertical'
                size_hint_x: .65
                padding: 10

                MDBoxLayout:
                    id: table_container
                    orientation: 'vertical'
                    padding: [10, 10, 10, 10]
                    size_hint_y: 1
                    # height: self.minimum_height

                    # MDDataTable:
                    #     id: id_results_table
                    #     size_hint_y: 1
                    #     size_hint_x: 1
                    #     pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    #     column_data:
                    #         [("ID Number", dp(30)), ("First Name", dp(30)), ("Last Name", dp(30)), ("Date of Birth", dp(30)), ("Gender", dp(30))]
                    #     row_data: []

                    #     on_row_press:
                    #         app.on_row_press(*args)
            