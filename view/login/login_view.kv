#:kivy 2.3.0
# view/login/login_view.kv

<LoginScreen>:
    id: login_view
    name: 'login_view'
    orientation: "vertical"
    # spacing: 10
    space_x: self.size[0]/3
    canvas.before:
        # Gray background
        Color:
            rgba: app.theme_cls.bg_light
            # rgba: (0.4, 0.4, 0.4, 1)
        Rectangle:
            size: self.size
            pos: self.pos

# Main Section
    MDBoxLayout:
        id: main_section
        orientation: "vertical"
        padding: login_view.space_x, 20
        # size_hint_y: .85
        height: self.minimum_height
        spacing: 20

        Label:
            id: notice
            text: ''
            size_hint_y: .1

        # ID Input
        MDBoxLayout:
            pos_hint: {'top': 1}
            size_hint_y: .1
            canvas.before:
                Color:
                    rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [10, 10, 10, 10]  # Rounded corners

            TextInput:
                id: id_no_field
                hint_text: "Enter ID No. / Scan ID"
                foreground_color: (0.7, 0.7, 0.7, 1)  # Light gray text
                background_color: (0, 0, 0, 0)  # Transparent to show canvas color
                halign: 'center'
                focus: True
                multiline: False
                font_size: self.height * 0.5
                padding: [10, (self.height - self.line_height) / 2]
                on_text_validate: password_field.focus = True

        # Password Input
        MDBoxLayout:
            size_hint_y: .1
            canvas.before:
                Color:
                    rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [10, 10, 10, 10]  # Rounded corners

            TextInput:
                id: password_field
                hint_text: "Enter password"
                foreground_color: (0.7, 0.7, 0.7, 1)  # Light gray text
                background_color: (0, 0, 0, 0)  # Transparent to show canvas color
                halign: 'center'
                multiline: False
                font_size: self.height * 0.5
                padding: [10, (self.height - self.line_height) / 2]
                password: True
                on_text_validate: root.validate_user()

        # Login Button
        MDBoxLayout:
            size_hint_y: .1
            size_hint_x: .5
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            # height: 50
            padding: [5]
            canvas.before:
                Color:
                    rgba: (0.14, 0.31, 0.31, 1)  # Dark teal background
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [10, 10, 10, 10]  # Rounded corners

            Button:
                text: "Login"
                background_normal: ''
                background_color: (0.14, 0.31, 0.31, 1)  # Dark teal color
                size_hint_x: 1
                font_size: self.height * 0.5
                padding: [10, (self.height - self.line_height) / 2]
                color: 1, 1, 1, 1  # White text
                on_press: root.validate_user()

        Label:
            id: bottom
            size_hint_y: .6
                
    