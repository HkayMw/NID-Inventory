#:kivy 2.3.0
# view/navigation/admin_nav.kv

# <DrawerClickableItem@MDNavigationDrawerItem>
#     focus_color: "#e7e4c0"
#     text_color: "#4a4939"
#     icon_color: "#4a4939"
#     ripple_color: "#c5bdd2"
#     selected_color: "#0c6c4d"


# <DrawerLabelItem@MDNavigationDrawerItem>
#     text_color: "#4a4939"
#     icon_color: "#4a4939"
#     focus_behavior: False
#     selected_color: "#4a4939"
#     _no_ripple_effect: True


<AdminNav>:

    MDBoxLayout:
        orientation: "vertical"
        elevation: 4

        # MDBoxLayout:

        MDNavigationRail:
            id: navigation_rail
            md_bg_color: app.theme_cls.bg_dark
            selected_color_background: "#e7e4c0"
            ripple_color_item: "#e7e4c0"
            size_hint_x: 1
            current_selected_item: 2
            # anchor: "center"

            MDNavigationRailMenuButton:
                padding: [30]
                size_hint_y: .2
                on_release: 
                    nav_drawer.set_state("toggle")

            # MDNavigationRailItem:
            #     size_hint_x: 0
            MDNavigationRailItem:
                id: dashboard
                icon: "view-dashboard"
                text: "Dashboard"
################################################################ comment to go on login page first##########################################################################################################
                # on_release: app.change_screen('adminDashboard_view')

            MDNavigationRailItem:
                icon: "account-cog"
                text: "Users"
                on_release: app.change_screen('manage_user_view')

            MDNavigationRailItem:
                icon: "cog"
                text: "Config"
                on_release: app.change_screen('config_view')

            MDNavigationRailItem:
                icon: "message-text"
                text: "Send SMS"
                on_release: app.change_screen('notify_view')

            MDNavigationRailItem:
                icon: "chart-box-outline"
                text: "Reports"
                on_release: app.change_screen('report_view')

            MDNavigationRailItem:
                icon: "logout"
                text: "Logout"
                active: False
                on_release: 
                    app.show_logout_dialog()  # Call the logout method in your app
            
            MDNavigationRailItem:
                icon: "account-circle"  # You can use a custom icon if needed
                user_font_size: "48sp"  # Adjust icon size
                # on_release:

    MDNavigationDrawer:
        id: nav_drawer
        md_bg_color: app.theme_cls.bg_dark
        elevation: 1
        radius: (0, dp(16), dp(16), 0)
        on_status: app.on_navigation_state(self.status)  # Call method on state change

        MDNavigationDrawerMenu:

            # DrawerClickableItem:
            #     icon: "menu"
            #     text_right_color: app.theme_cls.bg_light
            #     text: "Menu"
            #     on_release: 
            #         nav_drawer.set_state("toggle")

            MDNavigationDrawerHeader:
                title: "Admin"
                title_color: "#4a4939"
                text: "admin nav"
                spacing: "4dp"
                padding: "12dp", 0, 0, "56dp"
            
            MDNavigationDrawerDivider:

            DrawerClickableItem:
                icon: "view-dashboard"
                text: "Dashboard"
                on_release: 
                    nav_drawer.set_state("toggle")
                    app.change_screen('adminDashboard_view')

            DrawerClickableItem:
                icon: "account-cog"
                text: "Manage Users"
                on_release: 
                    nav_drawer.set_state("toggle")
                    app.change_screen('manage_user_view')

            DrawerClickableItem:
                icon: "cog"
                text: "Configurations"
                on_release: 
                    nav_drawer.set_state("toggle")
                    app.change_screen('config_view')

            DrawerClickableItem:
                icon: "bell"
                text: "Notifications"
                on_release: 
                    nav_drawer.set_state("toggle")
                    app.change_screen('notify_view')

            DrawerClickableItem:
                icon: "chart-box-outline"
                text: "Reports"
                on_release: 
                    nav_drawer.set_state("toggle")
                    app.change_screen('report_view')

            MDNavigationDrawerDivider:

            DrawerClickableItem:
                icon: "logout"
                text: "Logout"
                on_release: 
                    app.show_logout_dialog()  # Call the logout method in your app
                    nav_drawer.set_state("toggle")
